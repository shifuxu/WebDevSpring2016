<div class="content" ng-controller="AdminController as model">
    <div ng-show="model.message" class="alert alert-danger" role="alert">{{model.message}}</div>
    <h3>Users</h3>
    <div class="table-responsive">
        <table class="table table-bordered table-hover">
            <thead>
                <tr>
                    <th>
                        <a ng-hide="model.showDscendUsername"
                           ng-click="model.sortAscend(model.username)"
                           class="glyphicon glyphicon-triangle-top">
                        </a>
                        <a ng-show="model.showDscendUsername"
                           ng-click="model.sortDescend(model.username)"
                           class="glyphicon glyphicon-triangle-bottom">
                        </a>
                        Username
                    </th>
                    <th>
                        Password
                    </th>
                    <th>
                        Email
                    </th>
                    <th>
                        <a ng-hide="model.showDscendRole"
                           ng-click="model.sortAscend(model.role)"
                           class="glyphicon glyphicon-triangle-top">
                        </a>
                        <a ng-show="model.showDscendRole"
                           ng-click="model.sortDescend(model.role)"
                           class="glyphicon glyphicon-triangle-bottom">
                        </a>
                        Role
                    </th>
                    <th>
                        Action
                    </th>
                </tr>
                <tr>
                    <td>
                        <input  ng-model="model.user.username"
                                class="form-control ng-pristine ng-valid ng-touched"
                                placeholder="username">
                    </td>
                    <td>
                        <input  ng-model="model.user.password"
                                class="form-control ng-pristine ng-valid ng-touched"
                                placeholder="password">
                    </td>
                    <td>
                        <input  ng-model="model.user.email"
                                class="form-control ng-pristine ng-valid ng-touched"
                                placeholder="email">
                    </td>
                    <td>
                        <input  ng-model="model.user.role"
                                class="form-control ng-pristine ng-valid ng-touched"
                                placeholder="role">
                    </td>
                    <td>
                        <div>
                            <button ng-click="model.addUser(model.user)"
                                    class="btn btn-primary pull-middle">
                                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                            </button>
                            <button ng-click="model.updateUser(model.user)"
                                    class="btn btn-success pull-middle">
                                <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                            </button>
                        </div>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="user in model.users | orderBy: model.type">
                    <td><a href="#/others/{{user.username}}">{{user.username}}</a></td>
                    <td>{{user.password}}</td>
                    <td>{{user.email}}</td>
                    <td>{{user.role}}</td>
                    <td>
                        <div>
                            <button ng-click="model.deleteUser($index)"
                                    class="btn btn-danger pull-middle">
                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                            </button>
                            <button ng-click="model.selectUser($index)"
                                    class="btn btn-warning pull-middle">
                                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                            </button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>